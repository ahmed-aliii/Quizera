@model Course

@{
    ViewData["Title"] = "Course Details";
}

<link rel="stylesheet" href="~/lib/bootstrap/css/bootstrap.min.css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" />

<style>
    .page-title {
        font-weight: 700;
        color: #0d6efd;
        font-size: 1.75rem;
    }

    .card {
        border-radius: 1rem;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
    }

        .card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
        }

    .info-label {
        font-weight: 600;
        color: #495057;
    }

    .info-value {
        color: #212529;
        font-size: 1.05rem;
    }

    .badge-info {
        background-color: #e7f1ff;
        color: #0d6efd;
    }

    .btn-rounded {
        border-radius: 30px;
        font-weight: 500;
    }

    .table th {
        background-color: #f8f9fa;
    }
</style>

<div class="container py-5">

    <!-- Header Section -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h2 class="page-title mb-0">
            <i class="bi bi-journal-text me-2"></i> Course Details
        </h2>
        <div class="d-flex gap-2">
            <a asp-action="Edit" asp-route-id="@Model.Id" class="btn btn-outline-warning btn-sm btn-rounded">
                <i class="bi bi-pencil-square me-1"></i> Edit
            </a>
            <a asp-action="Index" class="btn btn-outline-secondary btn-sm btn-rounded">
                <i class="bi bi-arrow-left me-1"></i> Back to Courses
            </a>
        </div>
    </div>

    <!-- Course Info Card -->
    <div class="card shadow-sm border-0 mb-4">
        <div class="card-body px-4 py-4">
            <h3 class="text-primary fw-bold mb-3">@Model.Title</h3>
            <dl class="row mb-0">
                <dt class="col-md-3 info-label">Course ID</dt>
                <dd class="col-md-9 info-value">@Model.Id</dd>

                <dt class="col-md-3 info-label">Title</dt>
                <dd class="col-md-9 info-value">@Model.Title</dd>

                <dt class="col-md-3 info-label">Description</dt>
                <dd class="col-md-9 info-value text-secondary">@Model.Description</dd>

                <dt class="col-md-3 info-label">Instructor</dt>
                <dd class="col-md-9 info-value">
                    <span class="badge bg-primary-subtle text-primary fw-semibold px-3 py-2 rounded-pill">
                        <i class="bi bi-person-circle me-1"></i> @Model.Instructor?.UserName
                    </span>
                </dd>

                <dt class="col-md-3 info-label">Exams Count</dt>
                <dd class="col-md-9 info-value">
                    <span class="badge bg-info text-dark">@(Model.Exams?.Count() ?? 0)</span>
                </dd>

                <dt class="col-md-3 info-label">Created At</dt>
                <dd class="col-md-9 info-value">@Model.CreatedAt.ToString("yyyy-MM-dd")</dd>
            </dl>
        </div>
    </div>

    <!-- Exams List -->
    @if (Model.Exams != null && Model.Exams.Any())
    {
        <div class="card shadow-sm border-0">
            <div class="card-header bg-light d-flex justify-content-between align-items-center rounded-top-4">
                <h5 class="mb-0 fw-semibold text-primary">
                    <i class="bi bi-clipboard-check me-2"></i> Exams in this Course
                </h5>
                <span class="badge bg-primary text-white rounded-pill">@Model.Exams.Count() total</span>
            </div>

            <div class="card-body p-0">
                <table class="table table-hover table-striped mb-0 align-middle text-center">
                    <thead class="table-light">
                        <tr>
                            <th>ID</th>
                            <th>Title</th>
                            <th>Created At</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var exam in Model.Exams)
                        {
                            <tr>
                                <td class="fw-semibold">@exam.Id</td>
                                <td>@exam.Title</td>
                                <td>@exam.CreatedAt.ToString("yyyy-MM-dd")</td>
                                <td>
                                    <a asp-controller="Exam" asp-action="Details" asp-route-id="@exam.Id"
                                       class="btn btn-outline-primary btn-sm btn-rounded">
                                        <i class="bi bi-eye"></i> View
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>
        </div>
    }
    else
    {
        <div class="alert alert-info mt-4 rounded-4 shadow-sm">
            <i class="bi bi-info-circle me-2"></i> No exams have been added for this course yet.
        </div>
    }

</div>
